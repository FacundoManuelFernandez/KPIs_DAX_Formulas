//Esta fórmula mide el rendimiento de una variable determinada tomando como referencia la cantidad de pagos que tuvo y su participación sobre el monto total facturado.
//Un valor superior a 1 indica que, en promedio, los pagos asociados a esa variable tienen montos más altos que el promedio general.

Índice de rendimiento (monto/pagos concretados) sobre variable "x" =
VAR PagosRealizados =
    CALCULATE(
        COUNTROWS('TablaPagos'),
        'TablaPagos'[Estado de pago] = "Realizado"
    )
VAR PagosAnulados =
    CALCULATE(
        COUNTROWS('TablaPagos'),
        'TablaPagos'[Estado de pago] = "Anulado"
    )
VAR PagosConcretados = PagosRealizados - PagosAnulados

VAR SharePagosConcretados =
    DIVIDE(
        PagosConcretados,
        CALCULATE(
            PagosConcretados,
            REMOVEFILTERS('TablaClasificacionVariables'[Variable X])
        )
    )

VAR ShareFacturacion =
    DIVIDE(
        SUM('TablaPagos'[$PagoNeto]),
        CALCULATE(
            SUM('TablaPagos'[$PagoNeto]),
            REMOVEFILTERS('TablaClasificacionVariables'[Variable X])
        )
    )

RETURN
    DIVIDE(ShareFacturacion, SharePagosConcretados)
